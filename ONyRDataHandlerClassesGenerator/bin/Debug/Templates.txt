//@templatename:Data Contract Interface
//@directory:ONyRServiceSite\App_Code\Interfaces
//@filename:I<<EntityType>>Service.cs
using System.Collections.Generic;
using System.Runtime.Serialization;
using System.ServiceModel;
using System;

public enum <<EntityType>>Filter
{
    ById = 0, ByIds, All
};

[ServiceContract]
public interface I<<EntityType>>Service
{
    [OperationContract]
    List<<<EntityType>>VO> Load<<EntityTypePlural>>(<<EntityType>>Filter pFilter, int pId = -1, int[] pIds = null);

    [OperationContract]
    void Add<<EntityTypePlural>>(<<EntityType>>VO[] p<<EntityTypePlural>>);

    [OperationContract]
    void Remove<<EntityTypePlural>>(<<EntityType>>VO[] p<<EntityTypePlural>>);

    [OperationContract]
    void Modify<<EntityTypePlural>>(<<EntityType>>VO[] pOriginal<<EntityTypePlural>>, <<EntityType>>VO[] pNew<<EntityTypePlural>>, bool isForced = false);
}

[DataContract]
public class <<EntityType>>VO
{
    [DataMember]
    public int ID;

    [DataMember]
    public string <<EntityType>>Name;

    [DataMember]
    public string Name;

    public <<EntityType>>VO(int pId, string p<<EntityType>>Name, string pName)
    {
        ID = pId;
        <<EntityType>>Name = p<<EntityType>>Name;
        Name = pName;
    }
}
//@templatename:Sevice class
//@directory:ONyRServiceSite\App_Code
//@filename:<<EntityType>>Service.cs
using System;
using System.Collections.Generic;
using System.Linq;
using System.ServiceModel.Activation;
using ONyRDataSetTableAdapters;

[AspNetCompatibilityRequirements(RequirementsMode = AspNetCompatibilityRequirementsMode.Required)]
public class <<EntityType>>Service : I<<EntityType>>Service
{
    public List<<<EntityType>>VO> Load<<EntityTypePlural>>(<<EntityType>>Filter pFilter, int pId = -1, int[] pIds = null)
    {
        AuthenticationService.CheckIfUSerIsAuthenticated();
        LogService.Log("<<EntityType>>Service", "Load<<EntityTypePlural>>", String.Format("Filter:{0}; ID:{1}; IDs: {2}", pFilter, pId, pIds));

        <<DataTableName>>TableAdapter adapter = new <<DataTableName>>TableAdapter();
        ONyRDataSet.<<DataTableName>>DataTable table;
        List<<<EntityType>>VO> retVal = new List<<<EntityType>>VO>();
        

        if (pFilter == <<EntityType>>Filter.All)
        {
            table = adapter.GetData();

        }
        else if (pFilter == <<EntityType>>Filter.ById)
        {
            table = adapter.GetDataByID(pId);
        }
        else if (pFilter == <<EntityType>>Filter.ByIds)
        {
            table = adapter.GetData();
        }
        else
        {
            LogService.LogError(LogService.ErrorCode.UnknownError);
            throw new Exception(((int)LogService.ErrorCode.UnknownError).ToString());
        }

        for (int i = 0; i < table.Count; ++i)
        {
            if (pFilter != <<EntityType>>Filter.ByIds || pIds.Contains(table[i].ID))
            {
                retVal.Add(new <<EntityType>>VO(table[i].ID, table[i].<<EntityType>>Name, table[i].Name));
            }
        }

        adapter.Dispose();

        return retVal;
	}

    public void Add<<EntityTypePlural>>(<<EntityType>>VO[] p<<EntityTypePlural>>)
    {
        AuthenticationService.CheckIfUSerIsAuthenticated();
        <<DataTableName>>TableAdapter adapter = new <<DataTableName>>TableAdapter();
        
        foreach (<<EntityType>>VO vo in p<<EntityTypePlural>>)
        {
            adapter.Insert(vo.<<EntityType>>Name, vo.Name);
        }

        adapter.Dispose();

        LogService.Log("<<EntityType>>Service", "Add<<EntityTypePlural>>");
    }

    public void Remove<<EntityTypePlural>>(<<EntityType>>VO[] p<<EntityTypePlural>>)
    {
        AuthenticationService.CheckIfUSerIsAuthenticated();
        <<DataTableName>>TableAdapter adapter = new <<DataTableName>>TableAdapter();

        foreach (<<EntityType>>VO vo in p<<EntityTypePlural>>)
        {
            adapter.Delete(vo.ID);
        }

        adapter.Dispose();

        LogService.Log("<<EntityType>>Service", "Add<<EntityTypePlural>>");
    }

    public void Modify<<EntityTypePlural>>(<<EntityType>>VO[] pOriginal<<EntityTypePlural>>, <<EntityType>>VO[] pNew<<EntityTypePlural>>, bool isForced=false)
    {
        AuthenticationService.CheckIfUSerIsAuthenticated();
        <<DataTableName>>TableAdapter adapter = new <<DataTableName>>TableAdapter();

        for (int i = 0; i < Math.Min(pOriginal<<EntityTypePlural>>.Length, pNew<<EntityTypePlural>>.Length); ++i)
        {
            ONyRDataSet.<<DataTableName>>Row row = adapter.GetDataByID(pNew<<EntityTypePlural>>[i].ID)[0];
            <<EntityType>>VO vo = new <<EntityType>>VO(row.ID, row.<<EntityType>>Name, row.Name);

            if (vo.Equals(pOriginal<<EntityTypePlural>>[i]) || isForced)
            {
                adapter.Update(pNew<<EntityTypePlural>>[i].<<EntityType>>Name, pNew<<EntityTypePlural>>[i].Name, pNew<<EntityTypePlural>>[i].ID);
            }
            else
            {
                LogService.LogError(LogService.ErrorCode.ModifyConflict);
                throw new Exception(((int)LogService.ErrorCode.ModifyConflict).ToString());
            }
        }

        adapter.Dispose();

        LogService.Log("<<EntityType>>Service", "Modify<<EntityTypePlural>>");
    }

}
//@templatename:Model class
//@directory:ONyR_client\model\models
//@filename:<<EntityType>>Model.cs
using System.Collections.Generic;
using System.Linq;
using ONyR_client.model.vo;

namespace ONyR_client.model.models
{
    class <<EntityType>>Model : Model
    {

        #region Constructor

        public <<EntityType>>Model()
        {
            m<<EntityTypePlural>> = new List<<<EntityType>>VO>();
        }

        #endregion

        #region Properties

        private List<<<EntityType>>VO> m<<EntityTypePlural>>;

        #endregion

        #region Queries

        public <<EntityType>>VO Get<<EntityType>>ByID(int pID)
        {
            for (int i = 0; i < m<<EntityTypePlural>>.Count; ++i)
            {
                if (m<<EntityTypePlural>>[i].ID == pID)
                {
                    return m<<EntityTypePlural>>[i].Clone();
                }
            }

            return null;
        }

        public List<<<EntityType>>VO> Get<<EntityTypePlural>>ByIDs(int[] pIDs)
        {
            List<<<EntityType>>VO> retVal = new List<<<EntityType>>VO>();

            for (int i = 0; i < m<<EntityTypePlural>>.Count; ++i)
            {
                if (pIDs.Contains(m<<EntityTypePlural>>[i].ID))
                {
                    retVal.Add(m<<EntityTypePlural>>[i].Clone());
                }
            }

            return retVal;
        }

        public List<<<EntityType>>VO> GetAll<<EntityTypePlural>>()
        {
            List<<<EntityType>>VO> retVal = new List<<<EntityType>>VO>();

            for (int i = 0; i < m<<EntityTypePlural>>.Count; ++i)
            {
                retVal.Add(m<<EntityTypePlural>>[i].Clone());
            }

            return retVal;
        }

        #endregion

        #region Model manipulation

        public void Add<<EntityType>>(<<EntityType>>VO p<<EntityType>>)
        {
            m<<EntityTypePlural>>.Add(p<<EntityType>>);
            update();
        }

        public void Add<<EntityTypePlural>>(<<EntityType>>VO[] p<<EntityTypePlural>>)
        {
            m<<EntityTypePlural>>.AddRange(p<<EntityTypePlural>>);
            update();
        }

        public void Remove<<EntityType>>ByID(int pID)
        {
            for (int i = 0; i < m<<EntityTypePlural>>.Count; ++i)
            {
                if (m<<EntityTypePlural>>[i].ID == pID)
                {
                    m<<EntityTypePlural>>.RemoveAt(i);
                    update();
                    break;
                }
            }
        }

        public void Remove<<EntityTypePlural>>ByIDs(int[] pIDs)
        {
            for (int i = 0; i < m<<EntityTypePlural>>.Count; ++i)
            {
                if (pIDs.Contains(m<<EntityTypePlural>>[i].ID))
                {
                    m<<EntityTypePlural>>.RemoveAt(i);
                    --i;
                }
            }
            update();
        }

        public void Modify<<EntityType>>(<<EntityType>>VO p<<EntityType>>)
        {
            for (int i = 0; i < m<<EntityTypePlural>>.Count; ++i)
            {
                if (m<<EntityTypePlural>>[i].ID == p<<EntityType>>.ID)
                {
                    m<<EntityTypePlural>>.RemoveAt(i);
                    break;
                }
            }

            m<<EntityTypePlural>>.Add(p<<EntityType>>);
            update();
        }

        public void Modify<<EntityTypePlural>>(<<EntityType>>VO[] p<<EntityTypePlural>>)
        {
            for (int i = 0; i < m<<EntityTypePlural>>.Count; ++i)
            {
                if (p<<EntityTypePlural>>.Contains(m<<EntityTypePlural>>[i]))
                {
                    m<<EntityTypePlural>>.RemoveAt(i);
                    --i;
                }
            }

            m<<EntityTypePlural>>.AddRange(p<<EntityTypePlural>>);
            update();
        }


        public void Empty()
        {
            m<<EntityTypePlural>>.RemoveRange(0, m<<EntityTypePlural>>.Count);
            update();
        }

        #endregion
    }
}
//@templatename:Delegate class
//@directory:ONyR_client\control\delegates
//@filename:<<EntityType>>ServiceDelegate.csusing System;
using System;
using System.Net;
using System.ServiceModel;
using System.ServiceModel.Channels;
using ONyR_client.control.business.responders;
using ONyR_client.model;
using ONyR_client.<<EntityType>>ServiceSkeleton;

namespace ONyR_client.control.business.delegates
{
    class <<EntityType>>ServiceDelegate
    {
        private static <<EntityType>>ServiceClient GetClient()
        {
            <<EntityType>>ServiceClient retVal = new <<EntityType>>ServiceClient();
            OperationContextScope scope = new OperationContextScope(retVal.InnerChannel);
            var prop = new HttpRequestMessageProperty();
            prop.Headers.Add(HttpRequestHeader.Cookie, ModelLocator.getInstance().SessionModel.SessionCookie);
            OperationContext.Current.OutgoingMessageProperties[HttpRequestMessageProperty.Name] = prop;

            return retVal;
        }

        private static ONyR_client.model.vo.<<EntityType>>VO[] Convert(<<EntityType>>VO[] originals)
        {
            ONyR_client.model.vo.<<EntityType>>VO[] serialized = new ONyR_client.model.vo.<<EntityType>>VO[originals.Length];

            for (int i = 0; i < originals.Length; ++i)
            {
                serialized[i] = new model.vo.<<EntityType>>VO().FillFromSkeleton(originals[i]);
            }

            return serialized;
        }

        public static void Load<<EntityTypePlural>>(<<EntityType>>Filter pFilter, int pID = -1, int[] pIDs = null)
        {
            <<EntityType>>ServiceClient client = GetClient();

            try
            {
                <<EntityType>>VO[] retVal = client.Load<<EntityTypePlural>>(pFilter, pID, pIDs);
                <<EntityType>>ServiceResponder.Load<<EntityTypePlural>>Result(Convert(retVal));
            }
            catch (Exception ex)
            {
                int code;
                ErrorCode errorCode = ErrorCode.NonONyRError;

                try
                {
                    code = System.Convert.ToInt32(ex.Message);
                    errorCode = (ErrorCode)code;
                }
                catch (Exception)
                {
                    // If it was not our Exception, we handle an "Unknown Exception".
                    errorCode = ErrorCode.NonONyRError;
                }

                <<EntityType>>ServiceResponder.Load<<EntityTypePlural>>Fault(errorCode);
            }
            finally
            {
                client.Close();
            }
        }

        public static void Add<<EntityTypePlural>>(<<EntityType>>VO[] p<<EntityTypePlural>>)
        {
            <<EntityType>>ServiceClient client = GetClient();

            try
            {
                client.Add<<EntityTypePlural>>(p<<EntityTypePlural>>);
                <<EntityType>>ServiceResponder.Add<<EntityTypePlural>>Result(Convert(p<<EntityTypePlural>>));
            }
            catch (Exception ex)
            {
                int code;
                ErrorCode errorCode = ErrorCode.NonONyRError;

                try
                {
                    code = System.Convert.ToInt32(ex.Message);
                    errorCode = (ErrorCode)code;
                }
                catch (Exception)
                {
                    // If it was not our Exception, we handle an "Unknown Exception".
                    errorCode = ErrorCode.NonONyRError;
                }

                <<EntityType>>ServiceResponder.Load<<EntityTypePlural>>Fault(errorCode);
            }
            finally
            {
                client.Close();
            }
        }

        public static void Remove<<EntityTypePlural>>(<<EntityType>>VO[] p<<EntityTypePlural>>)
        {
            <<EntityType>>ServiceClient client = GetClient();

            try
            {
                client.Remove<<EntityTypePlural>>(p<<EntityTypePlural>>);
                <<EntityType>>ServiceResponder.Remove<<EntityTypePlural>>Result(Convert(p<<EntityTypePlural>>));
            }
            catch (Exception ex)
            {
                int code;
                ErrorCode errorCode = ErrorCode.NonONyRError;

                try
                {
                    code = System.Convert.ToInt32(ex.Message);
                    errorCode = (ErrorCode)code;
                }
                catch (Exception)
                {
                    // If it was not our Exception, we handle an "Unknown Exception".
                    errorCode = ErrorCode.NonONyRError;
                }

                <<EntityType>>ServiceResponder.Load<<EntityTypePlural>>Fault(errorCode);
            }
            finally
            {
                client.Close();
            }
        }

        public static void Modify<<EntityTypePlural>>(<<EntityType>>VO[] pOriginal<<EntityTypePlural>>, <<EntityType>>VO[] pNew<<EntityTypePlural>>, bool isForced = false)
        {
            <<EntityType>>ServiceClient client = GetClient();

            try
            {
                client.Modify<<EntityTypePlural>>(pOriginal<<EntityTypePlural>>, pNew<<EntityTypePlural>>, isForced);
                <<EntityType>>ServiceResponder.Modify<<EntityTypePlural>>Result(Convert(pNew<<EntityTypePlural>>));
            }
            catch (Exception ex)
            {
                int code;
                ErrorCode errorCode = ErrorCode.NonONyRError;

                try
                {
                    code = System.Convert.ToInt32(ex.Message);
                    errorCode = (ErrorCode)code;
                }
                catch (Exception)
                {
                    // If it was not our Exception, we handle an "Unknown Exception".
                    errorCode = ErrorCode.NonONyRError;
                }

                <<EntityType>>ServiceResponder.Load<<EntityTypePlural>>Fault(errorCode);
            }
            finally
            {
                client.Close();
            }
        }
    }
}
//@templatename:Responder class
//@directory:ONyR_client\control\responders
//@filename:<<EntityType>>ServiceResponder.cs
using ONyR_client.model.vo;
using ONyR_client.model;

namespace ONyR_client.control.business.responders
{
    class <<EntityType>>ServiceResponder
    {

        public static void Load<<EntityTypePlural>>Result(<<EntityType>>VO[] pLoaded<<EntityTypePlural>>)
        {
            ModelLocator locator = ModelLocator.getInstance();

            for (int i = 0; i < pLoaded<<EntityTypePlural>>.Length; ++i)
            {
                if (pLoaded<<EntityTypePlural>>[i].ID == locator.SessionModel.<<EntityType>>Id)
                {
                    locator.SessionModel.SetCurrent<<EntityType>>(pLoaded<<EntityTypePlural>>[i]);
                }
            }

            locator.<<EntityType>>Model.Add<<EntityTypePlural>>(pLoaded<<EntityTypePlural>>);
        }

        public static void Load<<EntityTypePlural>>Fault(ErrorCode pCode)
        {
            ApplicationFaultManager.Fault(pCode);
        }

        public static void Add<<EntityTypePlural>>Result(<<EntityType>>VO[] pAdded<<EntityTypePlural>>)
        {
            ModelLocator.getInstance().<<EntityType>>Model.Add<<EntityTypePlural>>(pAdded<<EntityTypePlural>>);
        }

        public static void Add<<EntityTypePlural>>Fault(ErrorCode pCode)
        {
            ApplicationFaultManager.Fault(pCode);
        }

        public static void Remove<<EntityTypePlural>>Result(<<EntityType>>VO[] pRemoved<<EntityTypePlural>>)
        {
            ModelLocator locator = ModelLocator.getInstance();
            int[] ids = new int[pRemoved<<EntityTypePlural>>.Length];

            for (int i = 0; i < pRemoved<<EntityTypePlural>>.Length; ++i)
            {
                ids[i] = pRemoved<<EntityTypePlural>>[i].ID;
            }

            locator.<<EntityType>>Model.Remove<<EntityTypePlural>>ByIDs(ids);
        }

        public static void Remove<<EntityTypePlural>>Fault(ErrorCode pCode)
        {
            ApplicationFaultManager.Fault(pCode);
        }

        public static void Modify<<EntityTypePlural>>Result(<<EntityType>>VO[] pNew<<EntityTypePlural>>)
        {
            ModelLocator.getInstance().<<EntityType>>Model.Modify<<EntityTypePlural>>(pNew<<EntityTypePlural>>);
        }

        public static void Modify<<EntityTypePlural>>Fault(ErrorCode pCode)
        {
            ApplicationFaultManager.Fault(pCode);
        }

    }
}
//@templatename:Controller class
//@directory:ONyR_client\control
//@filename:<<EntityType>>Controller.cs
using ONyR_client.control.notifiers.<<EntityType>>;
using ONyR_client.control.commands.<<EntityType>>;

namespace ONyR_client.control
{
    class <<EntityType>>Controller : FrontController
    {
        override protected void Initialize()
        {
            addConnection(typeof(Load<<EntityTypePlural>>Notifier), typeof(Load<<EntityTypePlural>>Command));
            addConnection(typeof(Add<<EntityTypePlural>>Notifier), typeof(Add<<EntityTypePlural>>Command));
            addConnection(typeof(Modify<<EntityTypePlural>>Notifier), typeof(Modify<<EntityTypePlural>>Command));
            addConnection(typeof(Remove<<EntityTypePlural>>Notifier), typeof(Remove<<EntityTypePlural>>Command));
        }
    }
}
//@templatename:Load notifier class
//@directory:ONyR_client\control\notifiers\<<EntityType>>
//@filename:Load<<EntityTypePlural>>Notifier.cs
namespace ONyR_client.control.notifiers.<<EntityType>>
{
    class Load<<EntityTypePlural>>Notifier : Notifier
    {
        public enum <<EntityType>>Filter
        {
            ById=0, ByIds, All
        };

        public Load<<EntityTypePlural>>Notifier(<<EntityType>>Filter pFilter, int pId = -1, int[] pIds = null)
        {
            mfeFilter = pFilter;
            miId = pId;
            maIds = pIds;
        }

        private <<EntityType>>Filter mfeFilter;
        private int miId;
        private int[] maIds;

        public <<EntityType>>Filter Filter
        {
            get
            {
                return mfeFilter;
            }
        }

        public int Id
        {
            get
            {
                if (mfeFilter == <<EntityType>>Filter.ById)
                {
                    return miId;
                }

                return -1;
            }
        }

        public int[] Ids
        {
            get
            {
                if (mfeFilter == <<EntityType>>Filter.ByIds)
                {
                    return maIds;
                }

                return null;
            }
        }
    }
}
//@templatename:Add notifier class
//@directory:ONyR_client\control\notifiers\<<EntityType>>
//@filename:Add<<EntityTypePlural>>Notifier.cs
using ONyR_client.model.vo;

namespace ONyR_client.control.notifiers.<<EntityType>>
{
    class Load<<EntityTypePlural>>Notifier : Notifier
    {
        public enum <<EntityType>>Filter
        {
            ById=0, ByIds, All
        };

        public Load<<EntityTypePlural>>Notifier(<<EntityType>>Filter pFilter, int pId = -1, int[] pIds = null)
        {
            mfeFilter = pFilter;
            miId = pId;
            maIds = pIds;
        }

        private <<EntityType>>Filter mfeFilter;
        private int miId;
        private int[] maIds;

        public <<EntityType>>Filter Filter
        {
            get
            {
                return mfeFilter;
            }
        }

        public int Id
        {
            get
            {
                if (mfeFilter == <<EntityType>>Filter.ById)
                {
                    return miId;
                }

                return -1;
            }
        }

        public int[] Ids
        {
            get
            {
                if (mfeFilter == <<EntityType>>Filter.ByIds)
                {
                    return maIds;
                }

                return null;
            }
        }
    }
}
//@templatename:Modify notifier class
//@directory:ONyR_client\control\notifiers\<<EntityType>>
//@filename:Modify<<EntityTypePlural>>Notifier.cs
using ONyR_client.model.vo;

namespace ONyR_client.control.notifiers.<<EntityType>>
{
    class Modify<<EntityTypePlural>>Notifier : Notifier
    {
        private <<EntityType>>VO[] mOriginal<<EntityTypePlural>>;

        private <<EntityType>>VO[] mModified<<EntityTypePlural>>;

        private bool mIsForced;

        public Modify<<EntityTypePlural>>Notifier(<<EntityType>>VO[] pOriginal<<EntityTypePlural>>, <<EntityType>>VO[] pModified<<EntityTypePlural>>, bool pIsForced = false)
        {
            mOriginal<<EntityTypePlural>> = pOriginal<<EntityTypePlural>>;
            mModified<<EntityTypePlural>> = pModified<<EntityTypePlural>>;
            this.mIsForced = pIsForced;
        }

        public <<EntityType>>VO[] Original<<EntityTypePlural>>
        {
            get
            {
                return mOriginal<<EntityTypePlural>>;
            }
        }

        public <<EntityType>>VO[] Modified<<EntityTypePlural>>
        {
            get
            {
                return mModified<<EntityTypePlural>>;
            }
        }

        public bool isForced
        {
            get
            {
                return mIsForced;
            }
        }
    }
}
//@templatename:Remove notifier class
//@directory:ONyR_client\control\notifiers\<<EntityType>>
//@filename:Remove<<EntityTypePlural>>Notifier.cs
using ONyR_client.model.vo;

namespace ONyR_client.control.notifiers.<<EntityType>>
{
    class Remove<<EntityTypePlural>>Notifier : Notifier
    {
        public Remove<<EntityTypePlural>>Notifier(<<EntityType>>VO[] p<<EntityTypePlural>>)
        {
            m<<EntityTypePlural>> = p<<EntityTypePlural>>;
        }

        private <<EntityType>>VO[] m<<EntityTypePlural>>;

        public <<EntityType>>VO[] <<EntityTypePlural>>
        {
            get
            {
                return m<<EntityTypePlural>>;
            }
        }
    }
}
//@templatename:Load command class
//@directory:ONyR_client\control\commands\<<EntityType>>
//@filename:Load<<EntityTypePlural>>Command.cs
using ONyR_client.control.notifiers.<<EntityType>>;
using ONyR_client.control.business.delegates;

namespace ONyR_client.control.commands.<<EntityType>>
{
    class Load<<EntityTypePlural>>Command : Command<Load<<EntityTypePlural>>Notifier>
    {
        override protected void execute(Load<<EntityTypePlural>>Notifier pLoad<<EntityTypePlural>>Notifier)
        {
            <<EntityType>>ServiceDelegate.Load<<EntityTypePlural>>((<<EntityType>>ServiceSkeleton.<<EntityType>>Filter)pLoad<<EntityTypePlural>>Notifier.Filter, pLoad<<EntityTypePlural>>Notifier.Id, pLoad<<EntityTypePlural>>Notifier.Ids);
        }
    }
}
//@templatename:Add command class
//@directory:ONyR_client\control\commands\<<EntityType>>
//@filename:Add<<EntityTypePlural>>Command.cs
using ONyR_client.control.notifiers.<<EntityType>>;
using ONyR_client.control.business.delegates;

namespace ONyR_client.control.commands.<<EntityType>>
{
    class Add<<EntityTypePlural>>Command : Command<Add<<EntityTypePlural>>Notifier>
    {
        override protected void execute(Add<<EntityTypePlural>>Notifier pAdd<<EntityTypePlural>>Notifier)
        {
            <<EntityType>>ServiceDelegate.Add<<EntityTypePlural>>(pAdd<<EntityTypePlural>>Notifier.<<EntityTypePlural>>);
        }
    }
}
//@templatename:Modify command class
//@directory:ONyR_client\control\commands\<<EntityType>>
//@filename:Modify<<EntityTypePlural>>Command.cs
using ONyR_client.control.notifiers.<<EntityType>>;
using ONyR_client.control.business.delegates;

namespace ONyR_client.control.commands.<<EntityType>>
{
    class Modify<<EntityTypePlural>>Command : Command<Modify<<EntityTypePlural>>Notifier>
    {
        override protected void execute(Modify<<EntityTypePlural>>Notifier pModify<<EntityTypePlural>>Notifier)
        {
            <<EntityType>>ServiceDelegate.Modify<<EntityTypePlural>>(pModify<<EntityTypePlural>>Notifier.Original<<EntityTypePlural>>, pModify<<EntityTypePlural>>Notifier.Modified<<EntityTypePlural>>, pModify<<EntityTypePlural>>Notifier.isForced);
        }
    }
}
//@templatename:Remove command class
//@directory:ONyR_client\control\commands\<<EntityType>>
//@filename:Remove<<EntityTypePlural>>Command.cs
using ONyR_client.control.notifiers.<<EntityType>>;
using ONyR_client.control.business.delegates;

namespace ONyR_client.control.commands.<<EntityType>>
{
    class Remove<<EntityTypePlural>>Command : Command<Remove<<EntityTypePlural>>Notifier>
    {
        override protected void execute(Remove<<EntityTypePlural>>Notifier pRemove<<EntityTypePlural>>Notifier)
        {
            <<EntityType>>ServiceDelegate.Remove<<EntityTypePlural>>(pRemove<<EntityTypePlural>>Notifier.<<EntityTypePlural>>);
        }
    }
}